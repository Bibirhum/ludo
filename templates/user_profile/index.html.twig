{% extends 'layout.html.twig' %}

{% block title %}Mon profil{% endblock %}

{% block body %}
<style>
   
</style>

<div class="float-right"> 
 {% if is_granted('IS_AUTHENTICATED_FULLY')%}
            <a href="{{ path('app_logout') }}" class="btn btn-danger">Logout</a>
            <a href="{{ path('edit_user_profile') }}" class="btn btn-primary">Modifier mes informations</a>
    {% endif %}

    </div>

<div class="container fluid mx-auto d-block text-center">
    <h1>Bienvenue {{user.username}}</h1>

{% if user.avatar is empty %}
      <img src="https://api.adorable.io/avatars/285/abott@adorable.png" class="rounded-circle">
{% else %}
       <img src="{{asset(user.avatar)}}" class="rounded-circle w-25">
 {% endif %}

     
     
    {% if is_granted('IS_AUTHENTICATED_FULLY')%}
        <span class="badge badge-success">Connecté</span>
    {% endif %}
<div class="container fluid">


    

    <p class="font-italic">{{user.bio}}</p>
    

   <div id="accordion" role="tablist">
  <div class="card">
    <div class="card-header" role="tab" id="headingOne">
      <h5 class="mb-0">
        <a data-toggle="collapse" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Mes infos personnelles
        </a>
      </h5>
    </div>
    <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
      <div class="card-body">
    <ul>
        <li>{{user.email}}</li>
        <li>{{user.address}}</li>
        <li>{{user.zipcode}}</li>
        <li>{{user.city}}</li>
    <ul>
      </div>
    </div>
  </div>

</div> 
{# fin container #}

<div class="container fluid">
    <h2>Mes jeux</h2>


<div class="d-flex flex-nowrap">

{% for item in user_game %}
      <div class="card w-25">
      {# à modifier avec asset pour accueillir les vraies images   #}
    <img class="card-img-top" src="{{ item.games.thumbnail }}" alt="Card image cap">
    <div class="card-body">
      <h4 class="card-title">{{ item.games.name }}</h4>
      <p class="card-text">
      <h6>Catégorie : </h6><p>Catégorie</p> <br>
        <h6>Commentaire : </h6>{{ item.commentary}}
        <h6>Note perso : </h6>{{ item.rating }} <br>
        {% if item.playsGame is same as (1)  %}
        <span class="badge badge-success">J'y joue!</span>
        {% endif %}
        {% if item.ownsGame is same as (1) %}
        <span class="badge badge-info">Je l'ai!</span>
        {% endif %} 
      </p>
      <a href="#!" class="btn btn-primary">Détails</a>
    </div>
  </div>
  {% endfor %}
</div>


   
        {# id : {{ user_game_association.id }}
        commentaire : {{ user_game.commentary }}<br>
        rating : {{ user_game.rating }}<br>
        playsGame : {{ user_game.playsGame }}<br>
        ownsGame :  {{ user_game.ownsGame }}<br> #}
   

 {% if is_granted('IS_AUTHENTICATED_FULLY')%}
            {# <a href="{{ path('games_search')}}">Ajouter un jeu</a> #}
    {% endif %}
   

</div>




    


    
</div>
{% endblock %}
