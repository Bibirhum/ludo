{% extends 'base.html.twig' %}

{% block title %}Ludo | Fiche d'un joueur{% endblock %}

{% block body %}
    <style>

    </style>

    <div class="container fluid mx-auto d-block text-center">
        <h1>Joueur <b>{{ user.username }}</b></h1>

        {% if user.avatar is empty %}
            <img src="https://api.adorable.io/avatars/200/abott@adorable.png" class="rounded-circle w-25"
                 alt="Avatar du joueur {{ user.username }}">
        {% else %}
            <img src="{{ asset(user.avatar) }}" class="rounded-circle w-25" alt="Avatar du joueur {{ user.username }}">
        {% endif %}

        <div class="container fluid">

            <p class="font-italic">{{ user.bio }}</p>

            <div class="container fluid">
                <h2>Sa ludothèque idéale</h2>
            </div>

            <div class="d-flex flex-nowrap">

                {% for game in user.associatedGames %}
                    <div class="card w-25">
                        {# à modifier avec asset pour accueillir les vraies images   #}
                        <img class="card-img-top" src="{{ asset(game.games.thumbnail) }}"
                             alt="Photo du jeu {{ game.games.name }}">
                        <div class="card-body">
                            <h4 class="card-title">{{ game.games.name }}</h4>
                            <p class="card-text">
                            <h6><b>Catégorie : </b></h6>
                            <p>{{ game.games.category.name }}</p>
                            <h6><b>Commentaire : </b></h6>
                            <p>{% if game.commentary %}{{ game.commentary }}{% else %}Pas de commentaire{% endif %}</p>
                            <h6><b>Note : </b>{% if game.rating %}{{ game.rating }}{% else %}Pas de note{% endif %}</h6>
                            <p>
                                {% if game.playsGame == 1 %}
                                    <span class="badge badge-success">{{ user.username }} y joue !</span>
                                {% endif %}
                                {% if game.ownsGame == 1 %}
                                    <span class="badge badge-info">{{ user.username }} l'a en stock !</span>
                                {% endif %}
                                {% if game.playsGame == 0 and game.ownsGame == 0 %}
                                    <span class="badge badge-warning">{{ user.username }} est intéressé(e) !</span>
                                {% endif %}
                            </p>
                        </div>
                    </div>
                {% endfor %}
            </div>

        </div>
<button class="btn btn-light"><a href="{{ path('player_search') }}">Retour vers la recherche de partenaires de jeu</a></button>
    </div>
{% endblock %}