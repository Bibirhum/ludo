{% extends 'layout.html.twig' %}

{% block title %}Ludo | Fiche d'un joueur{% endblock %}

{% block body %}


    <div class="container fluid mx-auto d-block text-center fiche">
        

        {% if user.avatar is empty %}
            <img src="https://api.adorable.io/avatars/200/abott@adorable.png" class="rounded-circle w-25"
                 alt="Avatar du joueur {{ user.username }}">
        {% else %}
            <img src="{{ asset(user.avatar) }}" class="rounded-circle w-25" alt="Avatar du joueur {{ user.username }}">
        {% endif %}

        <div class="container fluid">

        <h1>Joueur {{ user.username }}</h1>

            <p class="font-italic bio">{{ user.bio }}</p>

            <div class="container fluid">
                <h2>Sa ludothèque</h2>
            </div>

            <div class="d-flex flex-nowrap collection">

                {% for game in user.associatedGames %}
                    <div class="card w-25">
                        {# à modifier avec asset pour accueillir les vraies images   #}
                        <img class="card-img-top" src="{{ asset(game.games.thumbnail) }}"
                             alt="Photo du jeu {{ game.games.name }}">
                        <div class="card-body">
                            <h4 class="card-title">{{ game.games.name }}</h4>
                            <p class="card-text">
                            <h6><b>Catégorie : </b></h6>
                            <p>{{ game.games.category.name }}</p>
                            <h6><b>Commentaire : </b></h6>
                            <p>{% if game.commentary %}{{ game.commentary }}{% else %}Pas de commentaire{% endif %}</p>
                            <h6><b>Note : </b>{% if game.rating %}{{ game.rating }}/5{% else %}Pas de note{% endif %}</h6>
                            <p>
                                {% if game.playsGame == 1 %}
                                   <i class="far fa-thumbs-up"></i>  {{ user.username }} y joue !</span>
                                {% endif %}
                                {% if game.ownsGame == 1 %}
                                   <br> <i class="far fa-hand-paper"></i>  {{ user.username }} l'a en stock !</span>
                                {% endif %}
                                {% if game.playsGame == 0 and game.ownsGame == 0 %}
                                    <br><i class="far fa-lightbulb-on"></i>  {{ user.username }} est intéressé(e) !</span>
                                {% endif %}
                            </p>
                        </div>
                    </div>
                {% endfor %}
            </div>

        </div>
        <div class="bouton">
<a href="{{ path('player_search') }}" class="btn btn-primary">Retour vers la recherche</a>
 <a href="{{ path('message_write', {'id': user.id}) }}" class="btn btn-primary">Contacter ce joueur</a>
</div>
    </div>
{% endblock %}
